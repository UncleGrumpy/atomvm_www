<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libAtomVM: /home/runner/work/AtomVM/AtomVM/src/libAtomVM/externalterm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="AVM-alt.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libAtomVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_71a31c0df5161b11b9c2da40f7f3343f.html">libAtomVM</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">externalterm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>External term deserialization functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="term_8h_source.html">term.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for externalterm.h:</div>
<div class="dyncontent">
<div class="center"><img src="externalterm_8h__incl.png" border="0" usemap="#a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8h" alt=""/></div>
<map name="a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8h" id="a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8h">
<area shape="rect" title="External term deserialization functions." alt="" coords="153,5,436,47"/>
<area shape="rect" href="term_8h.html" title="term manipulation functions" alt="" coords="262,95,327,121"/>
<area shape="rect" title=" " alt="" coords="584,319,667,345"/>
<area shape="rect" title=" " alt="" coords="85,543,155,569"/>
<area shape="rect" title=" " alt="" coords="109,169,176,196"/>
<area shape="rect" title=" " alt="" coords="369,393,439,420"/>
<area shape="rect" title=" " alt="" coords="259,169,330,196"/>
<area shape="rect" href="memory_8h.html" title=" " alt="" coords="118,319,205,345"/>
<area shape="rect" href="term__typedef_8h.html" title="term type definition" alt="" coords="219,468,341,495"/>
<area shape="rect" href="utils_8h.html" title="Misc functions and macros." alt="" coords="49,393,111,420"/>
<area shape="rect" href="refc__binary_8h.html" title=" " alt="" coords="363,169,469,196"/>
<area shape="rect" href="erl__nif_8h.html" title="Public API for nifs, compatible with Erlang/OTP API." alt="" coords="243,393,317,420"/>
<area shape="rect" title=" " alt="" coords="180,543,255,569"/>
<area shape="rect" title=" " alt="" coords="279,543,350,569"/>
<area shape="rect" title=" " alt="" coords="374,543,461,569"/>
<area shape="rect" title=" " alt="" coords="43,468,117,495"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="331,319,386,345"/>
<area shape="rect" href="resources_8h.html" title="Private data structures for nif object resources." alt="" coords="238,244,335,271"/>
<area shape="rect" href="smp_8h.html" title="Multicore support functions." alt="" coords="474,244,537,271"/>
<area shape="rect" title=" " alt="" coords="461,319,560,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="externalterm_8h__dep__incl.png" border="0" usemap="#a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8hdep" alt=""/></div>
<map name="a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8hdep" id="a_2home_2runner_2work_2_atom_v_m_2_atom_v_m_2src_2lib_atom_v_m_2externalterm_8hdep">
<area shape="rect" title="External term deserialization functions." alt="" coords="293,5,575,47"/>
<area shape="rect" href="externalterm_8c.html" title=" " alt="" coords="5,95,287,136"/>
<area shape="rect" href="module_8c.html" title=" " alt="" coords="311,95,557,136"/>
<area shape="rect" href="nifs_8c.html" title=" " alt="" coords="581,95,801,136"/>
</map>
</div>
</div>
<p><a href="externalterm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7b610ef1bb7437f006b44fb6c2c5b173"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173">ExternalTermResult</a> { <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173aa8a9828ad6169d0edc07811accaa7699">EXTERNAL_TERM_OK</a> = 0
, <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173ac087ab3016f10c876cffa4ee1db08145">EXTERNAL_TERM_BAD_ARG</a> = 1
, <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173a5c70846a1c32d1a0cef84b284fb0f785">EXTERNAL_TERM_MALLOC</a> = 2
, <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173a8e8bae3a4997144f2e359209fafd44ba">EXTERNAL_TERM_HEAP_ALLOC</a> = 3
 }</td></tr>
<tr class="separator:a7b610ef1bb7437f006b44fb6c2c5b173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6168d43e9676554af376320c5f8caa2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2">ExternalTermOpts</a> { <a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2a23d9d0c8a9bec63f823e2c0cc87e1193">ExternalTermNoOpts</a> = 0
, <a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2ac87298fcf7134b4892d4e069b5218ba4">ExternalTermToHeapFragment</a> = 1
 }</td></tr>
<tr class="separator:af6168d43e9676554af376320c5f8caa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aad438929de43302a6dd3698b0e4d9bc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="externalterm_8h.html#aad438929de43302a6dd3698b0e4d9bc2">externalterm_to_term</a> (const void *external_term, size_t size, <a class="el" href="struct_context.html">Context</a> *ctx, <a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2">ExternalTermOpts</a> opts)</td></tr>
<tr class="memdesc:aad438929de43302a6dd3698b0e4d9bc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a term from external term data.  <a href="externalterm_8h.html#aad438929de43302a6dd3698b0e4d9bc2">More...</a><br /></td></tr>
<tr class="separator:aad438929de43302a6dd3698b0e4d9bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af48d46cb956f28521530a58010e876"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173">ExternalTermResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="externalterm_8h.html#a5af48d46cb956f28521530a58010e876">externalterm_from_binary</a> (<a class="el" href="struct_context.html">Context</a> *ctx, <a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> *dst, <a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> binary, size_t *bytes_read)</td></tr>
<tr class="memdesc:a5af48d46cb956f28521530a58010e876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a term from a binary.  <a href="externalterm_8h.html#a5af48d46cb956f28521530a58010e876">More...</a><br /></td></tr>
<tr class="separator:a5af48d46cb956f28521530a58010e876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac206e81a0af456ae80d093af7b255a82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="externalterm_8h.html#ac206e81a0af456ae80d093af7b255a82">externalterm_to_binary</a> (<a class="el" href="struct_context.html">Context</a> *ctx, <a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> t)</td></tr>
<tr class="memdesc:ac206e81a0af456ae80d093af7b255a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a binary from a term.  <a href="externalterm_8h.html#ac206e81a0af456ae80d093af7b255a82">More...</a><br /></td></tr>
<tr class="separator:ac206e81a0af456ae80d093af7b255a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>External term deserialization functions. </p>
<p>This header provides external term deserialization functions. </p>

<p class="definition">Definition in file <a class="el" href="externalterm_8h_source.html">externalterm.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af6168d43e9676554af376320c5f8caa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6168d43e9676554af376320c5f8caa2">&#9670;&nbsp;</a></span>ExternalTermOpts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2">ExternalTermOpts</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af6168d43e9676554af376320c5f8caa2a23d9d0c8a9bec63f823e2c0cc87e1193"></a>ExternalTermNoOpts&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af6168d43e9676554af376320c5f8caa2ac87298fcf7134b4892d4e069b5218ba4"></a>ExternalTermToHeapFragment&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="externalterm_8h_source.html#l00045">45</a> of file <a class="el" href="externalterm_8h_source.html">externalterm.h</a>.</p>

</div>
</div>
<a id="a7b610ef1bb7437f006b44fb6c2c5b173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b610ef1bb7437f006b44fb6c2c5b173">&#9670;&nbsp;</a></span>ExternalTermResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173">ExternalTermResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7b610ef1bb7437f006b44fb6c2c5b173aa8a9828ad6169d0edc07811accaa7699"></a>EXTERNAL_TERM_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7b610ef1bb7437f006b44fb6c2c5b173ac087ab3016f10c876cffa4ee1db08145"></a>EXTERNAL_TERM_BAD_ARG&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7b610ef1bb7437f006b44fb6c2c5b173a5c70846a1c32d1a0cef84b284fb0f785"></a>EXTERNAL_TERM_MALLOC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7b610ef1bb7437f006b44fb6c2c5b173a8e8bae3a4997144f2e359209fafd44ba"></a>EXTERNAL_TERM_HEAP_ALLOC&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="externalterm_8h_source.html#l00037">37</a> of file <a class="el" href="externalterm_8h_source.html">externalterm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5af48d46cb956f28521530a58010e876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af48d46cb956f28521530a58010e876">&#9670;&nbsp;</a></span>externalterm_from_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="externalterm_8h.html#a7b610ef1bb7437f006b44fb6c2c5b173">ExternalTermResult</a> externalterm_from_binary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a>&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a term from a binary. </p>
<p>Deserialize a binary term that stores term data in Erlang external term format, and instantiate the serialized terms. The heap from the context will be used to allocate the instantiated terms. This function is the complement of externalterm_to_binary. WARNING: This function may call the GC, which may render the input binary invalid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context that owns the memory that will be allocated. </td></tr>
    <tr><td class="paramname">dst</td><td>a pointer to a term that will contain the binary encoded term. </td></tr>
    <tr><td class="paramname">binary</td><td>the binary. </td></tr>
    <tr><td class="paramname">bytes_read</td><td>the number of bytes read from the input binary. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the term deserialized from the input term, or an invalid term, if deserialization fails. </dd></dl>

<p class="definition">Definition at line <a class="el" href="externalterm_8c_source.html#l00126">126</a> of file <a class="el" href="externalterm_8c_source.html">externalterm.c</a>.</p>

</div>
</div>
<a id="ac206e81a0af456ae80d093af7b255a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac206e81a0af456ae80d093af7b255a82">&#9670;&nbsp;</a></span>externalterm_to_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> externalterm_to_binary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a binary from a term. </p>
<p>Serialize a term in Erlang external term format, and store the result in a binary term. The heap from the context will be used to allocate the hydrated terms. This function is the complement of externalterm_to_binary. WARNING: This function may call the GC, which may render the input binary invalid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context that owns the memory that will be allocated. </td></tr>
    <tr><td class="paramname">t</td><td>the term to return as binary. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the term deserialized from the input term, or an invalid term, if deserialization fails. </dd></dl>

<p class="definition">Definition at line <a class="el" href="externalterm_8c_source.html#l00174">174</a> of file <a class="el" href="externalterm_8c_source.html">externalterm.c</a>.</p>

</div>
</div>
<a id="aad438929de43302a6dd3698b0e4d9bc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad438929de43302a6dd3698b0e4d9bc2">&#9670;&nbsp;</a></span>externalterm_to_term()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> externalterm_to_term </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>external_term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="externalterm_8h.html#af6168d43e9676554af376320c5f8caa2">ExternalTermOpts</a>&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a term from external term data. </p>
<p>Deserialize an external term from external format and returns a term. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">external_term</td><td>the external term that will be deserialized. </td></tr>
    <tr><td class="paramname">size</td><td>to allocate for term. </td></tr>
    <tr><td class="paramname">ctx</td><td>the context that owns the memory that will be allocated. </td></tr>
    <tr><td class="paramname">opts</td><td>if non-zero, use a heap fragment to store the generated terms. Otherwise, use the heap in the provided context. Note that when using the context heap, this function may call the GC, if there is insufficient space to store the generated terms. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a term. </dd></dl>

<p class="definition">Definition at line <a class="el" href="externalterm_8c_source.html#l00126">126</a> of file <a class="el" href="externalterm_8c_source.html">externalterm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
