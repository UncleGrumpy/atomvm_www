<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libAtomVM: /home/winford/github/UncleGrumpy/AtomVM/src/libAtomVM/refc_binary.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="AVM-alt.png"/></td>
  <td id="projectalign">
   <div id="projectname">libAtomVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_71a31c0df5161b11b9c2da40f7f3343f.html">libAtomVM</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">refc_binary.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="refc__binary_8h_source.html">refc_binary.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="context_8h_source.html">context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dictionary_8h_source.html">dictionary.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="erl__nif__priv_8h_source.html">erl_nif_priv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tempstack_8h_source.html">tempstack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for refc_binary.c:</div>
<div class="dyncontent">
<div class="center"><img src="refc__binary_8c__incl.png" border="0" usemap="#a_2home_2winford_2github_2_uncle_grumpy_2_atom_v_m_2src_2lib_atom_v_m_2refc__binary_8c" alt=""/></div>
<map name="a_2home_2winford_2github_2_uncle_grumpy_2_atom_v_m_2src_2lib_atom_v_m_2refc__binary_8c" id="a_2home_2winford_2github_2_uncle_grumpy_2_atom_v_m_2src_2lib_atom_v_m_2refc__binary_8c">
<area shape="rect" title=" " alt="" coords="358,5,555,67"/>
<area shape="rect" title=" " alt="" coords="655,569,725,597"/>
<area shape="poly" title=" " alt="" coords="459,67,459,203,459,357,463,404,470,422,484,444,519,482,561,514,604,540,643,560,641,565,602,545,558,519,516,486,480,447,465,425,457,405,454,357,454,203,454,67"/>
<area shape="rect" href="refc__binary_8h.html" title=" " alt="" coords="939,418,1043,445"/>
<area shape="poly" title=" " alt="" coords="556,43,774,66,1031,100,1149,122,1245,146,1283,159,1311,172,1330,187,1336,203,1336,282,1334,303,1329,323,1307,356,1275,382,1235,401,1190,415,1144,424,1059,432,1058,427,1143,419,1189,410,1233,396,1272,377,1303,352,1324,321,1329,302,1331,281,1331,204,1325,190,1308,177,1281,164,1244,151,1147,127,1030,106,774,71,555,49"/>
<area shape="rect" href="context_8h.html" title="Context struct and related management functions." alt="" coords="795,191,878,218"/>
<area shape="poly" title=" " alt="" coords="526,65,794,182,792,187,524,70"/>
<area shape="rect" href="memory_8h.html" title=" " alt="" coords="232,418,318,445"/>
<area shape="poly" title=" " alt="" coords="375,70,333,93,294,123,279,140,267,159,259,180,256,203,256,281,262,346,271,402,266,403,256,347,251,282,251,203,254,179,262,157,275,137,291,119,330,88,372,65"/>
<area shape="rect" href="utils_8h.html" title="Misc functions and macros." alt="" coords="78,493,139,521"/>
<area shape="poly" title=" " alt="" coords="358,51,286,68,251,81,218,98,190,118,167,142,152,170,147,203,147,357,145,391,138,424,122,480,117,478,133,423,139,390,142,357,142,203,147,168,163,138,186,114,215,93,249,76,285,63,357,46"/>
<area shape="rect" href="dictionary_8h.html" title=" " alt="" coords="1003,266,1099,294"/>
<area shape="poly" title=" " alt="" coords="556,65,715,118,804,151,891,188,959,223,1018,256,1015,260,957,227,889,193,802,156,713,123,555,70"/>
<area shape="rect" href="erl__nif__priv_8h.html" title=" " alt="" coords="313,115,419,143"/>
<area shape="poly" title=" " alt="" coords="428,69,392,106,388,102,424,66"/>
<area shape="rect" href="tempstack_8h.html" title=" " alt="" coords="5,418,108,445"/>
<area shape="poly" title=" " alt="" coords="358,42,266,54,219,65,175,81,136,102,105,129,85,162,80,182,78,203,78,282,73,347,65,403,59,402,68,346,73,281,73,203,74,181,80,160,101,125,133,97,173,76,218,60,265,48,357,37"/>
<area shape="rect" href="trace_8h.html" title=" " alt="" coords="1371,115,1438,143"/>
<area shape="poly" title=" " alt="" coords="556,39,710,47,909,61,1130,82,1353,112,1357,113,1356,118,1352,118,1130,87,908,66,709,52,555,44"/>
<area shape="poly" title=" " alt="" coords="978,448,931,485,870,523,803,552,740,572,739,566,801,547,867,519,928,480,975,444"/>
<area shape="rect" title=" " alt="" coords="1020,569,1101,597"/>
<area shape="poly" title=" " alt="" coords="999,444,1050,554,1046,556,995,447"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="1282,569,1335,597"/>
<area shape="poly" title=" " alt="" coords="1044,438,1124,457,1167,472,1208,491,1253,522,1289,556,1285,559,1250,526,1206,496,1165,477,1122,462,1043,443"/>
<area shape="rect" href="resources_8h.html" title="Private data structures for nif object resources." alt="" coords="670,493,766,521"/>
<area shape="poly" title=" " alt="" coords="943,448,782,492,780,486,942,443"/>
<area shape="rect" href="smp_8h.html" title="Multicore support functions." alt="" coords="1134,493,1195,521"/>
<area shape="poly" title=" " alt="" coords="1023,443,1121,485,1119,490,1021,448"/>
<area shape="poly" title=" " alt="" coords="715,523,703,555,698,554,710,521"/>
<area shape="poly" title=" " alt="" coords="767,516,778,518,906,535,1007,544,1107,552,1236,566,1267,571,1266,577,1235,572,1106,557,1006,549,906,541,777,524,766,522"/>
<area shape="rect" href="erl__nif_8h.html" title="Public API for nifs, compatible with Erlang/OTP API." alt="" coords="316,569,389,597"/>
<area shape="poly" title=" " alt="" coords="670,521,405,574,404,568,669,516"/>
<area shape="rect" href="term__typedef_8h.html" title="term type definition" alt="" coords="116,645,237,672"/>
<area shape="poly" title=" " alt="" coords="322,600,223,641,221,636,320,595"/>
<area shape="rect" title=" " alt="" coords="193,720,264,748"/>
<area shape="poly" title=" " alt="" coords="188,671,213,706,208,709,184,674"/>
<area shape="rect" title=" " alt="" coords="83,720,169,748"/>
<area shape="poly" title=" " alt="" coords="170,674,146,709,141,706,165,671"/>
<area shape="rect" title=" " alt="" coords="613,720,684,748"/>
<area shape="poly" title=" " alt="" coords="237,667,256,670,598,722,597,728,255,675,237,672"/>
<area shape="poly" title=" " alt="" coords="1147,524,1093,562,1089,558,1144,519"/>
<area shape="rect" title=" " alt="" coords="1125,569,1223,597"/>
<area shape="poly" title=" " alt="" coords="1169,521,1173,553,1168,554,1164,522"/>
<area shape="poly" title=" " alt="" coords="878,202,1059,204,1179,209,1302,220,1418,238,1470,250,1516,265,1554,283,1583,303,1602,327,1608,354,1608,433,1606,454,1601,472,1579,504,1548,529,1510,548,1468,562,1425,572,1351,582,1350,577,1425,567,1467,557,1508,544,1545,525,1576,501,1596,470,1601,452,1603,433,1603,355,1597,329,1579,307,1551,287,1514,270,1468,256,1417,243,1301,225,1178,214,1059,209,878,208"/>
<area shape="poly" title=" " alt="" coords="854,217,953,298,1084,416,1145,480,1141,483,1080,420,949,302,851,221"/>
<area shape="rect" href="globalcontext_8h.html" title="GlobalContext struct and related management functions." alt="" coords="1123,266,1246,294"/>
<area shape="poly" title=" " alt="" coords="879,212,1109,260,1108,265,878,217"/>
<area shape="rect" href="term_8h.html" title="term manipulation functions" alt="" coords="642,342,706,370"/>
<area shape="poly" title=" " alt="" coords="824,220,701,333,697,329,821,217"/>
<area shape="rect" href="timer__list_8h.html" title=" " alt="" coords="1422,493,1518,521"/>
<area shape="poly" title=" " alt="" coords="878,205,1046,222,1152,239,1258,264,1354,288,1393,306,1434,340,1457,372,1469,409,1474,446,1475,478,1469,478,1469,446,1464,410,1452,374,1431,344,1390,311,1352,293,1257,269,1151,244,1045,227,878,211"/>
<area shape="rect" href="mailbox_8h.html" title="Mailbox management functions such as send and receive functions." alt="" coords="688,418,774,445"/>
<area shape="poly" title=" " alt="" coords="833,220,746,404,741,402,828,217"/>
<area shape="poly" title=" " alt="" coords="1222,292,1263,312,1304,340,1336,374,1355,417,1363,446,1365,469,1363,493,1355,522,1346,542,1334,559,1329,556,1341,539,1350,520,1358,492,1360,469,1358,447,1350,419,1332,377,1300,344,1260,316,1220,297"/>
<area shape="poly" title=" " alt="" coords="1123,295,1111,297,975,309,869,311,763,319,702,328,630,345,536,369,498,388,456,420,425,452,400,489,365,556,361,554,395,486,421,449,452,416,496,383,534,364,629,339,701,323,763,313,869,306,975,303,1111,291,1123,290"/>
<area shape="poly" title=" " alt="" coords="1247,287,1337,306,1386,321,1433,340,1478,356,1518,369,1534,378,1547,390,1555,407,1558,430,1558,585,1550,602,1527,617,1493,632,1449,645,1335,668,1199,688,913,717,699,733,699,727,913,712,1198,683,1334,663,1448,640,1492,627,1525,613,1546,598,1553,584,1553,430,1550,409,1542,394,1531,382,1516,374,1477,361,1432,344,1384,326,1336,311,1246,292"/>
<area shape="poly" title=" " alt="" coords="1177,296,1164,317,1154,343,1152,368,1154,404,1163,478,1157,478,1148,405,1146,368,1149,341,1159,315,1172,293"/>
<area shape="rect" href="atom_8h.html" title="Atoms manipulation functions." alt="" coords="790,493,857,521"/>
<area shape="poly" title=" " alt="" coords="1156,297,1053,347,990,382,929,420,886,453,849,485,845,481,882,449,926,415,987,377,1050,342,1154,292"/>
<area shape="rect" href="synclist_8h.html" title=" " alt="" coords="1163,342,1246,370"/>
<area shape="poly" title=" " alt="" coords="1191,294,1200,326,1194,328,1186,295"/>
<area shape="poly" title=" " alt="" coords="1123,295,1112,297,721,351,721,346,1111,291,1122,290"/>
<area shape="poly" title=" " alt="" coords="1246,290,1338,311,1378,325,1405,340,1431,372,1450,409,1462,446,1469,477,1464,478,1457,447,1445,411,1427,375,1401,344,1376,329,1336,316,1245,295"/>
<area shape="poly" title=" " alt="" coords="801,524,728,564,725,559,798,519"/>
<area shape="poly" title=" " alt="" coords="815,523,670,709,666,706,811,520"/>
<area shape="poly" title=" " alt="" coords="1213,369,1298,553,1294,556,1208,371"/>
<area shape="poly" title=" " alt="" coords="1209,370,1209,405,1203,446,1186,481,1181,479,1198,445,1204,404,1203,370"/>
<area shape="rect" title=" " alt="" coords="799,418,864,445"/>
<area shape="poly" title=" " alt="" coords="1163,368,880,423,879,418,1162,363"/>
<area shape="poly" title=" " alt="" coords="672,371,658,436,655,478,660,520,675,554,670,556,655,522,650,478,653,435,667,370"/>
<area shape="poly" title=" " alt="" coords="707,362,925,412,924,417,706,367"/>
<area shape="poly" title=" " alt="" coords="707,355,790,357,895,366,947,373,994,384,1032,398,1057,416,1068,432,1075,449,1081,486,1078,523,1072,555,1066,553,1073,522,1075,486,1070,450,1063,434,1053,420,1029,403,992,389,946,379,895,371,790,363,706,360"/>
<area shape="poly" title=" " alt="" coords="641,362,605,367,564,378,521,395,484,420,464,441,453,463,444,508,435,554,423,577,402,599,368,622,329,638,290,649,253,656,252,650,289,644,328,633,365,617,399,595,418,574,430,552,439,507,448,461,460,438,480,416,519,390,562,373,604,362,641,357"/>
<area shape="poly" title=" " alt="" coords="670,371,652,418,641,499,639,580,642,651,647,705,642,705,637,651,634,580,636,498,647,417,665,369"/>
<area shape="poly" title=" " alt="" coords="703,368,791,408,789,413,701,373"/>
<area shape="rect" title=" " alt="" coords="493,418,564,445"/>
<area shape="poly" title=" " alt="" coords="649,373,569,413,567,408,647,368"/>
<area shape="poly" title=" " alt="" coords="642,366,335,422,334,417,641,361"/>
<area shape="poly" title=" " alt="" coords="642,362,426,381,306,398,257,409,222,420,196,433,172,450,132,485,129,481,168,446,193,429,219,415,256,404,305,393,425,376,641,357"/>
<area shape="poly" title=" " alt="" coords="311,443,513,518,642,563,640,568,512,524,309,448"/>
<area shape="poly" title=" " alt="" coords="282,445,294,479,312,520,335,555,331,558,307,522,289,481,277,447"/>
<area shape="poly" title=" " alt="" coords="257,448,232,468,211,495,196,529,187,565,179,630,174,629,181,564,191,527,206,492,228,464,253,444"/>
<area shape="poly" title=" " alt="" coords="276,446,274,476,276,515,285,557,294,577,305,595,336,626,371,652,410,674,451,691,531,714,599,726,598,731,530,719,449,696,408,678,368,657,332,630,301,598,289,580,280,559,271,516,269,475,271,445"/>
<area shape="poly" title=" " alt="" coords="246,448,153,489,151,484,244,443"/>
<area shape="rect" title=" " alt="" coords="65,569,139,597"/>
<area shape="poly" title=" " alt="" coords="110,522,107,554,102,553,105,521"/>
<area shape="poly" title=" " alt="" coords="1422,518,1288,540,1117,571,1116,566,1288,534,1421,513"/>
<area shape="poly" title=" " alt="" coords="1442,524,1350,566,1348,561,1440,519"/>
<area shape="poly" title=" " alt="" coords="1458,524,1412,562,1381,582,1348,599,1259,633,1167,661,1074,683,982,700,819,723,700,733,699,728,818,718,982,695,1073,678,1166,656,1258,628,1346,594,1378,577,1408,557,1454,520"/>
<area shape="poly" title=" " alt="" coords="762,443,870,491,1020,560,1018,565,867,496,760,448"/>
<area shape="poly" title=" " alt="" coords="775,441,1268,568,1267,574,774,447"/>
<area shape="poly" title=" " alt="" coords="715,448,607,519,530,562,449,599,348,630,253,649,252,644,346,625,448,594,528,557,604,515,712,443"/>
<area shape="poly" title=" " alt="" coords="775,440,786,443,971,475,1119,497,1118,502,970,480,785,448,774,446"/>
<area shape="poly" title=" " alt="" coords="688,441,155,503,154,498,687,435"/>
<area shape="poly" title=" " alt="" coords="1100,290,1197,316,1238,329,1260,340,1278,364,1293,392,1309,450,1315,507,1314,553,1309,553,1309,508,1304,451,1288,394,1274,367,1256,344,1236,334,1195,321,1099,296"/>
<area shape="poly" title=" " alt="" coords="1003,294,721,348,720,343,1002,288"/>
<area shape="poly" title=" " alt="" coords="419,136,781,192,780,197,419,141"/>
<area shape="poly" title=" " alt="" coords="364,144,286,404,281,402,359,142"/>
<area shape="poly" title=" " alt="" coords="54,447,46,476,40,514,41,557,46,577,55,595,77,619,107,636,104,641,74,623,50,598,41,578,36,557,34,514,41,475,49,445"/>
<area shape="poly" title=" " alt="" coords="68,444,93,479,88,482,64,447"/>
</map>
</div>
</div>
<p><a href="refc__binary_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acf4aea6fa9f10aa79c2ec67b88fae825" id="r_acf4aea6fa9f10aa79c2ec67b88fae825"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#acf4aea6fa9f10aa79c2ec67b88fae825">refc_binary_create_resource</a> (size_t size, struct <a class="el" href="struct_resource_type.html">ResourceType</a> *resource_type)</td></tr>
<tr class="memdesc:acf4aea6fa9f10aa79c2ec67b88fae825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a reference-counted resource object outside of the process heap.  <br /></td></tr>
<tr class="separator:acf4aea6fa9f10aa79c2ec67b88fae825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80ffb1e8e4156225b3fc2ebfd919f64" id="r_ac80ffb1e8e4156225b3fc2ebfd919f64"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#ac80ffb1e8e4156225b3fc2ebfd919f64">refc_binary_get_data</a> (const struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *refc)</td></tr>
<tr class="memdesc:ac80ffb1e8e4156225b3fc2ebfd919f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the data of the off-context binary  <br /></td></tr>
<tr class="separator:ac80ffb1e8e4156225b3fc2ebfd919f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9125abeaf10a28e5cbd5a96d672556b8" id="r_a9125abeaf10a28e5cbd5a96d672556b8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#a9125abeaf10a28e5cbd5a96d672556b8">refc_binary_from_data</a> (void *ptr)</td></tr>
<tr class="memdesc:a9125abeaf10a28e5cbd5a96d672556b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the refc binary from its pointer  <br /></td></tr>
<tr class="separator:a9125abeaf10a28e5cbd5a96d672556b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86ee3d766d20e0e12cb10213103f2b3" id="r_ae86ee3d766d20e0e12cb10213103f2b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#ae86ee3d766d20e0e12cb10213103f2b3">refc_binary_increment_refcount</a> (struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *refc)</td></tr>
<tr class="memdesc:ae86ee3d766d20e0e12cb10213103f2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the reference count on the refc binary.  <br /></td></tr>
<tr class="separator:ae86ee3d766d20e0e12cb10213103f2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8938dfcfa89b37cbf559f5483375e7de" id="r_a8938dfcfa89b37cbf559f5483375e7de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#a8938dfcfa89b37cbf559f5483375e7de">refc_binary_decrement_refcount</a> (struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *refc, struct <a class="el" href="struct_global_context.html">GlobalContext</a> *global)</td></tr>
<tr class="memdesc:a8938dfcfa89b37cbf559f5483375e7de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the reference count on the refc binary.  <br /></td></tr>
<tr class="separator:a8938dfcfa89b37cbf559f5483375e7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69400b3b349f1d470ae3a66cad4c2a0f" id="r_a69400b3b349f1d470ae3a66cad4c2a0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#a69400b3b349f1d470ae3a66cad4c2a0f">refc_binary_destroy</a> (struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *refc, struct <a class="el" href="struct_global_context.html">GlobalContext</a> *global)</td></tr>
<tr class="memdesc:a69400b3b349f1d470ae3a66cad4c2a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a refc binary after its reference count reached 0.  <br /></td></tr>
<tr class="separator:a69400b3b349f1d470ae3a66cad4c2a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af777e99bca2b607b342b25d5f2a17a12" id="r_af777e99bca2b607b342b25d5f2a17a12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#af777e99bca2b607b342b25d5f2a17a12">refc_binary_create_binary_info</a> (<a class="el" href="struct_context.html">Context</a> *ctx)</td></tr>
<tr class="separator:af777e99bca2b607b342b25d5f2a17a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6d254b27cb8e50fae8a4a44b2c34a1" id="r_afe6d254b27cb8e50fae8a4a44b2c34a1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refc__binary_8c.html#afe6d254b27cb8e50fae8a4a44b2c34a1">refc_binary_total_size</a> (<a class="el" href="struct_context.html">Context</a> *ctx)</td></tr>
<tr class="memdesc:afe6d254b27cb8e50fae8a4a44b2c34a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total size (in bytes) of all reference counted binaries.  <br /></td></tr>
<tr class="separator:afe6d254b27cb8e50fae8a4a44b2c34a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af777e99bca2b607b342b25d5f2a17a12" name="af777e99bca2b607b342b25d5f2a17a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af777e99bca2b607b342b25d5f2a17a12">&#9670;&#160;</a></span>refc_binary_create_binary_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="term__typedef_8h.html#a603769ce1e8eeb1faa458d7e6cf904d8">term</a> refc_binary_create_binary_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO consider implementing erlang:memory/0,1 instead </p>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00094">94</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="acf4aea6fa9f10aa79c2ec67b88fae825" name="acf4aea6fa9f10aa79c2ec67b88fae825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4aea6fa9f10aa79c2ec67b88fae825">&#9670;&#160;</a></span>refc_binary_create_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> * refc_binary_create_resource </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_resource_type.html">ResourceType</a> *&#160;</td>
          <td class="paramname"><em>resource_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a reference-counted resource object outside of the process heap. </p>
<p>This function will create a reference-counted resource object outside of the context heap. A blob will be allocated in the VM memory (e.g., via malloc). The allocated data will include an internal data structure that includes the data size and reference count. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>the size of the data to create </td></tr>
    <tr><td class="paramname">resource_type</td><td>the resource type, <code>NULL</code> for regular refc binaries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the out-of-context data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00036">36</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="a8938dfcfa89b37cbf559f5483375e7de" name="a8938dfcfa89b37cbf559f5483375e7de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8938dfcfa89b37cbf559f5483375e7de">&#9670;&#160;</a></span>refc_binary_decrement_refcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool refc_binary_decrement_refcount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_global_context.html">GlobalContext</a> *&#160;</td>
          <td class="paramname"><em>global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrement the reference count on the refc binary. </p>
<p>This function will call <code>refc_binary_destroy</code> if the reference count reaches 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the refc binary </td></tr>
    <tr><td class="paramname">global</td><td>the global context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the refc binary was free'd; false, otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00066">66</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="a69400b3b349f1d470ae3a66cad4c2a0f" name="a69400b3b349f1d470ae3a66cad4c2a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69400b3b349f1d470ae3a66cad4c2a0f">&#9670;&#160;</a></span>refc_binary_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refc_binary_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td>
          <td class="paramname"><em>refc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_global_context.html">GlobalContext</a> *&#160;</td>
          <td class="paramname"><em>global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a refc binary after its reference count reached 0. </p>
<p>This function will call the destructor if the refc binary is a resource and will free the refc binary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refc</td><td>the binary to destroy </td></tr>
    <tr><td class="paramname">global</td><td>the global context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00076">76</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="a9125abeaf10a28e5cbd5a96d672556b8" name="a9125abeaf10a28e5cbd5a96d672556b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9125abeaf10a28e5cbd5a96d672556b8">&#9670;&#160;</a></span>refc_binary_from_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> * refc_binary_from_data </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the refc binary from its pointer </p>
<p>This must only be passed the result of <code>refc_binary_get_data</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer obtained from <code>refc_binary_get_data</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00056">56</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="ac80ffb1e8e4156225b3fc2ebfd919f64" name="ac80ffb1e8e4156225b3fc2ebfd919f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80ffb1e8e4156225b3fc2ebfd919f64">&#9670;&#160;</a></span>refc_binary_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * refc_binary_get_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the data of the off-context binary </p>
<p>Return the data of the off-context binary </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Refc binary returned from memory_create_refc_binary </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00051">51</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="ae86ee3d766d20e0e12cb10213103f2b3" name="ae86ee3d766d20e0e12cb10213103f2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae86ee3d766d20e0e12cb10213103f2b3">&#9670;&#160;</a></span>refc_binary_increment_refcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refc_binary_increment_refcount </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_refc_binary.html">RefcBinary</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment the reference count on the refc binary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the refc binary </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00061">61</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
<a id="afe6d254b27cb8e50fae8a4a44b2c34a1" name="afe6d254b27cb8e50fae8a4a44b2c34a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6d254b27cb8e50fae8a4a44b2c34a1">&#9670;&#160;</a></span>refc_binary_total_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t refc_binary_total_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total size (in bytes) of all reference counted binaries. </p>
<dl class="section return"><dt>Returns</dt><dd>the total size (in bytes) of all reference counted binaries </dd></dl>

<p class="definition">Definition at line <a class="el" href="refc__binary_8c_source.html#l00122">122</a> of file <a class="el" href="refc__binary_8c_source.html">refc_binary.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
